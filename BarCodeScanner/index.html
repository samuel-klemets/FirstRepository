<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Barcode Scanner</title>
<!-- Include the html5-qrcode library -->
<script src="https://cdn.jsdelivr.net/npm/html5-qrcode@latest"></script>
<style>
  body { font-family: Arial, sans-serif; }
  #reader { width: 600px; margin: auto; }
  .center { text-align: center; }
</style>
</head>
<body>

<div class="center">
  <button onclick="startScanning()">Start Scanning</button>
  <div id="reader"></div>
  <input type="text" id="scannedNumber" placeholder="Scanned number">
</div>

<script>
function startScanning() {
  const html5QrCode = new Html5Qrcode("reader");
  const config = { fps: 10, qrbox: 250 };

  // This function will be called when a barcode is successfully scanned.
  function onScanSuccess(decodedText, decodedResult) {
    // Check if it's an ITF code with correct checksum.
    if (isValidITF(decodedText)) {
      document.getElementById('scannedNumber').value = decodedText;
      html5QrCode.stop().then(() => {
        console.log("Scanning stopped");
      }).catch(err => {
        console.error("Failed to stop scanning.", err);
      });
    }
  }

  // Start scanning
  html5QrCode.start({ facingMode: "environment" }, config, onScanSuccess);
}

// Validate if the code is an ITF barcode with a correct checksum.
// This is a simple validation function, you might need to adjust it according to your specific needs.
function isValidITF(code) {
  // Add your validation logic here.
  // For demonstration, this will accept any input. Implement the actual ITF validation and checksum verification.
  return true;
}
</script>

</body>
</html>
